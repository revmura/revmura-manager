<?xml version="1.0"?>
<ruleset name="Revmura Manager Minimal">
  <description>Minimal checks: PHP compatibility + WP security only. No formatting/docs nags.</description>

  <!-- Scan just the plugin entry and src -->
  <file>revmura-manager.php</file>
  <file>src</file>

  <!-- Ignore vendor and node_modules -->
  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>

  <!-- PHP target & quiet banner -->
  <config name="testVersion" value="8.1-8.3"/>
  <config name="show_deprecated" value="0"/>

  <!-- Only engines we want -->
  <rule ref="PHPCompatibility"/>
  <rule ref="WordPress-Core">
    <!-- Allow PSR-4 filenames (no WordPress filename nags) -->
    <exclude name="WordPress.Files.FileName"/>
  </rule>

  <!-- Security-focused WP sniffs -->
  <rule ref="WordPress.Security.EscapeOutput"/>
  <rule ref="WordPress.Security.ValidatedSanitizedInput"/>
  <rule ref="WordPress.Security.NonceVerification"/>

  <!-- Silence formatting/style families -->
  <rule ref="Generic"><severity>0</severity></rule>
  <rule ref="PEAR"><severity>0</severity></rule>
  <rule ref="PSR1"><severity>0</severity></rule>
  <rule ref="PSR2"><severity>0</severity></rule>
  <rule ref="Squiz"><severity>0</severity></rule>
  <rule ref="Zend"><severity>0</severity></rule>

  <!-- Workaround for a crashy fixer -->
  <exclude name="Generic.CodeAnalysis.UnconditionalIfStatement"/>

  <!-- Only scan PHP files -->
  <arg name="extensions" value="php"/>
</ruleset>
